<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <title>My Tasks</title>

</head>

<body class="mt-2 text-start mx-5">

    <div class="container-sm">
        <p class="fs-2 text-primary">Tasks</p>
        <form method="POST" class="mb-3">
            <!-- Upper form for adding New Task -->
            {{ form.hidden_tag() }}
            <div class="row mb-4">
                <div class="col-4">
                    {{ form.name(class="form-control", placeholder="Type new task here...") }}
                </div>
                <div class="col">
                    {{ form.add(class="btn btn-outline-primary") }}
                </div>
            </div>
            <!-- List of Tasks - Status Update -->
            {% for task in my_tasks %}
            <div>
                <input class="form-check-input" onclick=form.submit() value="{{task.id}}" type="checkbox"
                    id="task_{{ task.id }}" name="t_status" {% if task.status==true %} checked {% endif %}>

                <label
                    class="mx-2 fs-6 {% if task.status==true %} text-secondary text-decoration-line-through {% endif %}"
                    for="task_{{ task.id }}">
                    <a href='{{ url_for("update_task", task_id=task.id) }}'
                        style="text-decoration: none; color: inherit;">
                        {{ task.name }}
                    </a>
                </label>
            </div>
            {% endfor %}
        </form>

    </div>
</body>